(()=>{var e={};e.id=39,e.ids=[39],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},9981:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(735),i=a(1232),n=a(2914),r=a.n(n),o=a(85),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["actividad-1",{children:["scene6",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7178)),"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/actividad-1/scene6/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1052)),"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,8270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,5335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,4908,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/actividad-1/scene6/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/actividad-1/scene6/page",pathname:"/actividad-1/scene6",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6793:(e,t,a)=>{Promise.resolve().then(a.bind(a,7178))},3241:(e,t,a)=>{Promise.resolve().then(a.bind(a,1733))},1733:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(2725),i=a(1616),n=a(207),r=a(4621),o=a(3858),l=a(922),c=a(4088);let d={id:"juego_tres",title:"\xbfQu\xe9 es una erecci\xf3n?",question:"Se\xf1ala el pene que est\xe1 en erecci\xf3n",audio:{introduction:"/audio/actividad-1/escena_1/juego3/ES6_DANI_07-inicio.mp3",instructions:"/audio/actividad-1/escena_1/juego3/ES6_DANI_08-second.mp3",correct:"/audio/actividad-1/escena_1/juego3/ES6_DANI_09-correcto.mp3",incorrect:"/audio/actividad-1/escena_1/juego3/ES6_DANI_08-incorrecto.mp3",celebration:"/audio/actividad-1/escena_2/elements/muy_bien_bright.mp3"},options:[{id:"flaccid_penis",type:"incorrect",images:{normal:"/image/escena_1/juego_3/pene-image.png",feedback:"/image/escena_1/juego_3/pene-image-red.png"},alt:"Pene fl\xe1cido"},{id:"erect_penis",type:"correct",images:{normal:"/image/escena_1/juego_3/pene-img-erecto.png",feedback:"/image/escena_1/juego_3/pene-img-erecto-green.png"},alt:"Pene erecto"}],timing:{audioDelay:500,feedbackDuration:2e3,congratsDuration:2500}},u=()=>{let[e,t]=(0,i.useState)(!1),[a,s]=(0,i.useState)(null),[n,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(0),p=(0,i.useCallback)(()=>{t(!1),s(null),r(!1),l(!1),d(!1),m(0)},[]);return{gameStarted:e,setGameStarted:t,selectedOption:a,setSelectedOption:s,showFeedback:n,setShowFeedback:r,isCorrect:o,setIsCorrect:l,showCongrats:c,setShowCongrats:d,attempts:u,setAttempts:m,resetGame:p}},m=()=>{let e=(0,i.useRef)(null),t=(0,i.useRef)(null),a=(0,i.useCallback)(a=>{let s=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return t.current=new Date,e.current={gameId:d.id,userId:a,sessionId:s,startTime:t.current,completed:!1,totalAttempts:0,correctAnswer:"erect_penis",finalResult:"abandoned"},e.current},[]),s=(0,i.useCallback)((t,a)=>(e.current&&(e.current.endTime=new Date,e.current.completed=t,e.current.totalAttempts=a,e.current.finalResult=t?"success":"abandoned"),e.current),[]);return{currentSession:e.current,startSession:a,endSession:s}},p=()=>{let e=(0,i.useRef)([]);return{recordAttempt:(0,i.useCallback)((t,a,s,i,n)=>{let r={gameId:d.id,userId:i,sessionId:n,selectedOption:t,isCorrect:a,attempts:s,timestamp:new Date,timeToComplete:void 0};return e.current.push(r),console.log("\uD83C\uDFAE Game Attempt Recorded:",r),r},[]),getAttempts:(0,i.useCallback)(()=>e.current,[]),clearAttempts:(0,i.useCallback)(()=>{e.current=[]},[])}},h=()=>{let e=(0,i.useRef)(!1),t=(0,i.useCallback)(async(e,t=.7)=>{try{let a=new Audio(e);return a.volume=t,await a.play(),a}catch(t){return console.warn("Error playing audio:",e,t),null}},[]),a=(0,i.useCallback)(async a=>{if(!e.current){e.current=!0;try{let e=await t(d.audio.introduction);if(!e){a();return}e.onended=async()=>{let e=await t(d.audio.instructions);e?e.onended=a:a()}}catch(e){console.warn("Error in audio sequence:",e),a()}}},[t]);return{playAudio:t,playInitialAudio:a,resetAudioState:(0,i.useCallback)(()=>{e.current=!1},[])}},x={animate:{scale:[0,1.5,0],opacity:[0,1,0],transition:{duration:1.2,repeat:1/0,ease:"easeInOut"}}},f=({onComplete:e})=>{let t=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{t.current||(t.current=!0,new Audio("/audio/actividad-1/escena_2/elements/muy_bien_bright.mp3").play().catch(console.warn));let a=setTimeout(()=>{e()},2e3);return()=>clearTimeout(a)},[e]),(0,s.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50 pointer-events-none",children:(0,s.jsxs)("div",{className:"relative w-full h-full",children:[[...Array(25)].map((e,t)=>(0,s.jsx)(r.P.div,{className:"absolute w-4 h-4 bg-yellow-300 rounded-full",style:{top:`${100*Math.random()}%`,left:`${100*Math.random()}%`},variants:x,animate:"animate"},t)),(0,s.jsx)(r.P.div,{className:"absolute top-1/2 left-[1/2] text-white text-5xl font-bold drop-shadow-xl",style:{transform:"translate(-50%, -50%)"},initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:"\uD83C\uDF89 \xa1Muy bien!"})]})})},g=({isVisible:e,onClose:t,onGameComplete:a,userId:n})=>{let{gameStarted:r,setGameStarted:o,selectedOption:l,setSelectedOption:x,showFeedback:g,setShowFeedback:b,isCorrect:v,setIsCorrect:j,showCongrats:w,setShowCongrats:y,attempts:_,setAttempts:N,resetGame:k}=u(),{currentSession:A,startSession:C,endSession:D}=m(),{recordAttempt:P}=p(),{playAudio:S,playInitialAudio:z,resetAudioState:E}=h();(0,i.useEffect)(()=>{e&&(k(),E(),C(n),setTimeout(()=>{z(()=>{o(!0)})},d.timing.audioDelay))},[e,k,E,C,z,o,n]);let I=async e=>{if(g)return;let s=d.options.find(t=>t.id===e);if(!s)return;let i=_+1,r="correct"===s.type;x(e),b(!0),j(r),N(i),P(e,r,i,n,A?.sessionId),r?(await S(d.audio.correct),setTimeout(()=>{y(!0),setTimeout(()=>{D(!0,i),y(!1),t(),a&&a()},d.timing.congratsDuration)},d.timing.feedbackDuration)):(await S(d.audio.incorrect),setTimeout(()=>{b(!1),x(null)},d.timing.feedbackDuration))};return e?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-auto",children:(0,s.jsxs)("div",{className:"relative w-[80%] h-[50%] max-w-3xl bg-white/10 border-2 border-white/30 backdrop-blur-md rounded-xl shadow-xl pointer-events-auto overflow-hidden",children:[(0,s.jsx)("button",{onClick:()=>{D(!1,_),k(),t()},className:"absolute top-4 right-4 z-10 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-105 font-semibold",children:"Salir juego"}),!1,(0,s.jsx)("div",{className:"absolute left-[55px] top-1/2 transform -translate-y-1/2 z-5",children:(0,s.jsx)(c.default,{src:"/image/escena_1/juego_3/punto-1.png",alt:"Decoration left",width:100,height:100,className:"object-contain opacity-80"})}),(0,s.jsx)("div",{className:"absolute right-[50px] top-1/2 transform -translate-y-1/2 z-5",children:(0,s.jsx)(c.default,{src:"/image/escena_1/juego_3/punto2.png",alt:"Decoration right",width:100,height:100,className:"object-contain opacity-80"})}),(0,s.jsx)("div",{className:"absolute top-[120px] left-1/2 transform -translate-x-1/2 z-5",children:(0,s.jsx)(c.default,{src:"/image/escena_1/juego_3/starts.png",alt:"Stars decoration",width:120,height:60,className:"object-contain opacity-90"})}),(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:r?(0,s.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"text-center pt-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-fuchsia-400 mb-2",children:d.title}),(0,s.jsx)("p",{className:"text-xl text-fuchsia-300",children:d.question})]}),(0,s.jsx)("div",{className:"flex-1 flex justify-center items-end",children:(0,s.jsx)("div",{className:"flex justify-center items-end space-x-12",children:d.options.map(e=>(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{onClick:()=>I(e.id),disabled:g,className:`relative block transition-all duration-300 ${g?"cursor-not-allowed":"hover:scale-105 cursor-pointer"}`,children:(0,s.jsx)("div",{className:"w-72 h-72 relative",children:(0,s.jsx)(c.default,{src:g&&l===e.id?e.images.feedback:e.images.normal,alt:e.alt,fill:!0,className:"object-contain",priority:!0})})})},e.id))})})]}):(0,s.jsx)("div",{className:"",children:(0,s.jsx)(c.default,{src:"/image/escena_1/juego_3/dani.gif",alt:"Dani talking",width:800,height:800,className:"mx-auto rounded-full",unoptimized:!0})})}),w&&(0,s.jsx)(f,{onComplete:()=>y(!1)})]})}):null};function b(){let e=(0,n.useRouter)(),t=(0,i.useRef)(null),[a,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(!1),[h,x]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),[v,j]=(0,i.useState)(!1),[w,y]=(0,i.useState)({width:0,height:0}),[_,N]=(0,i.useState)({width:0,height:0}),k=()=>{u(!0)},A=()=>{try{let e=new Audio("/audio/button/Bright.mp3");e.volume=.7,e.play().catch(console.warn)}catch(e){console.warn("Could not play sound:",e)}},C={width:`${w.width}px`,height:`${w.height}px`,left:`${(_.width-w.width)/2}px`,top:`${(_.height-w.height)/2}px`};return a?(0,s.jsxs)(r.P.div,{className:"relative min-h-screen overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-blue-300 via-blue-200 to-green-300"}),(0,s.jsx)("div",{className:"absolute inset-0 z-10",children:[...Array(20)].map((e,t)=>(0,s.jsx)(r.P.div,{className:"absolute rounded-full bg-white/10",style:{width:60*Math.random()+20,height:60*Math.random()+20,left:`${100*Math.random()}%`,top:`${100*Math.random()}%`},animate:{y:[0,-20,0],x:[0,20*Math.random()-10,0],scale:[1,1.1,1]},transition:{duration:3*Math.random()+2,repeat:1/0,ease:"easeInOut",delay:2*Math.random()}},t))}),(0,s.jsx)("div",{className:"absolute top-0 right-0 z-50 flex",children:(0,s.jsx)(o.A,{})}),h&&(0,s.jsx)("div",{className:"fixed inset-0 z-30",style:{background:"linear-gradient(to bottom, #a8e9f7, #fffad4)"}}),d?(0,s.jsx)("div",{className:"absolute",style:C,children:m?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:!h&&(0,s.jsx)(r.P.div,{animate:v?{scale:[1,1.3,1],rotate:[0,-360]}:{},transition:{duration:.8,ease:"easeInOut"},children:f?(0,s.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,s.jsx)(l.A,{onClick:()=>{v||(j(!0),A(),setTimeout(()=>{j(!1),e.push("/actividad-1/scene7")},800))},disabled:v,text:"Continuar..."})}):(0,s.jsx)(l.A,{onClick:()=>{A(),x(!0)},disabled:v})})}):(0,s.jsx)("video",{ref:t,className:"absolute inset-0 w-full h-full object-cover z-10",src:"/video/ACTIVIDAD-1-ESCENA-6.mp4",autoPlay:!0,playsInline:!0,onEnded:()=>{p(!0)}})}):(0,s.jsx)("div",{className:"relative z-20 flex items-center justify-center min-h-screen",children:(0,s.jsx)(r.P.div,{animate:v?{scale:[1,1.3,1],rotate:[0,-360]}:{},transition:{duration:.8,ease:"easeInOut"},children:(0,s.jsx)(l.A,{onClick:()=>{v||(j(!0),A(),setTimeout(()=>{j(!1),k()},800))},disabled:v})})}),(0,s.jsx)(g,{isVisible:h,onClose:()=>{x(!1)},onGameComplete:()=>{b(!0)}})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-300 to-green-300 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-xl",children:"Loading..."})})}},7178:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(2771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/actividad-1/scene6/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/actividad-1/scene6/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[207,619,178,40,165,772],()=>a(9981));module.exports=s})();