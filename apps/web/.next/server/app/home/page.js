(()=>{var e={};e.id=620,e.ids=[620],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},4747:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=i(735),s=i(1232),r=i(2914),n=i.n(r),o=i(85),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);i.d(t,l);let d=["",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,9017)),"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/home/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,1052)),"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,8270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,5335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,4908,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/home/page.tsx"],u={require:i,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2971:(e,t,i)=>{Promise.resolve().then(i.bind(i,8417))},8995:(e,t,i)=>{Promise.resolve().then(i.bind(i,1721))},7960:(e,t,i)=>{Promise.resolve().then(i.bind(i,9017))},2808:(e,t,i)=>{Promise.resolve().then(i.bind(i,6295))},7161:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,9028,23)),Promise.resolve().then(i.t.bind(i,2018,23)),Promise.resolve().then(i.t.bind(i,2914,23)),Promise.resolve().then(i.t.bind(i,5917,23)),Promise.resolve().then(i.t.bind(i,7673,23)),Promise.resolve().then(i.t.bind(i,4643,23)),Promise.resolve().then(i.t.bind(i,8424,23))},2313:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,3868,23)),Promise.resolve().then(i.t.bind(i,5794,23)),Promise.resolve().then(i.t.bind(i,8466,23)),Promise.resolve().then(i.t.bind(i,3909,23)),Promise.resolve().then(i.t.bind(i,5969,23)),Promise.resolve().then(i.t.bind(i,7763,23)),Promise.resolve().then(i.t.bind(i,560,23))},1721:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var a=i(2725),s=i(1616);let r=({children:e})=>{let[t,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{i(!0)},[]),(0,a.jsxs)(a.Fragment,{children:[e,t&&(0,a.jsxs)("div",{className:"rotation-message fixed inset-0 z-50 flex flex-col items-center justify-center bg-white bg-opacity-90 portrait:flex landscape:hidden",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),(0,a.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"})]}),(0,a.jsx)("h2",{children:"Please Rotate Your Device"}),(0,a.jsx)("p",{children:"This application is optimized for landscape mode."}),(0,a.jsx)("p",{children:"Please rotate your device to continue."})]})]})}},1431:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var a=i(2725);i(1616);let s=()=>(0,a.jsxs)("div",{className:"fixed left-1/2 -translate-x-1/2 top-0 w-full h-screen bg-gradient-to-b from-cyan-200 to-cyan-100",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-white/40 via-transparent to-white/10 z-5 blur-2xl"}),(0,a.jsx)("div",{className:"absolute top-0 w-full h-[50vh]"})]})},3858:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var a=i(2725),s=i(1616),r=i(4621),n=i(3125),o=i(207),l=i(4088),d=i(1984);let c=()=>{let e=(0,o.useRouter)(),[t,i]=(0,s.useState)(null),[c,u]=(0,s.useState)({}),[h,m]=(0,s.useState)([]),[p,v]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=new Audio("/ui-sound/click.mp3");e.preload="auto",v(e);let t=()=>{g(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);let f=async()=>{try{p&&(p.currentTime=0,await p.play())}catch(e){console.error("Error playing sound:",e)}},b=async(t,a)=>{let s=a.currentTarget.getBoundingClientRect(),r=a.clientX-s.left,n=a.clientY-s.top,o=`${t.id}-${Date.now()}`;if(m(e=>[...e,{id:o,x:r,y:n}]),u(e=>({...e,[t.id]:!e[t.id]})),await f(),i(t.id),"exit"===t.id){await (0,d.CI)();return}setTimeout(()=>{u(e=>({...e,[t.id]:!1}))},600),await new Promise(e=>setTimeout(e,600)),e.push(t.href)},w=e=>{m(t=>t.filter(t=>t.id!==e))};return(0,a.jsx)(r.P.div,{className:`
        fixed z-50 bg-white/10 backdrop-blur-sm shadow-lg
        ${x?"bottom-0 left-0 right-0 p-2 flex justify-around items-center rounded-t-xl":"right-8 top-5 -translate-y-1/2 flex flex-col gap-2 p-2 rounded-full"}
      `,initial:x?{y:100}:{x:100,opacity:0},animate:x?{y:0}:{x:0,opacity:1},transition:{duration:.5,ease:"easeOut"},children:[{id:"home",icon1:"/svg/menu/home1.svg",icon2:"/svg/menu/home2.svg",href:"/home",sound:"/ui-sound/click.mp3"},{id:"hola",icon1:"/svg/menu/hola1.svg",icon2:"/svg/menu/hola2.svg",href:"#",sound:"/ui-sound/click.mp3"},{id:"volumen",icon1:"/svg/menu/vol1.svg",icon2:"/svg/menu/vol2.svg",href:"#",sound:"/ui-sound/click.mp3"},{id:"info",icon1:"/svg/menu/infoPadres1.svg",icon2:"/svg/menu/infoPadres2.svg",href:"/info",sound:"/ui-sound/click.mp3"},{id:"exit",icon1:"/svg/menu/puerta1.svg",icon2:"/svg/menu/puerta2.svg",href:"#",sound:"/ui-sound/click.mp3"}].map(e=>(0,a.jsxs)(r.P.div,{className:"relative",initial:!1,children:[(0,a.jsxs)(r.P.button,{className:`
              rounded-full flex items-center justify-center overflow-hidden relative
              ${x?"w-32 h-32 sm:w-14 sm:h-14":"w-16 h-16"}
            `,onClick:t=>b(e,t),whileHover:{scale:1.1},whileTap:{scale:.95},animate:t===e.id?{scale:[1,1.2,1],rotate:[0,360]}:{},transition:{duration:.6,times:[0,.5,1],ease:"easeInOut"},children:[(0,a.jsx)(r.P.div,{animate:t===e.id?{opacity:[1,0,1]}:{},transition:{duration:.3},className:"relative w-24 h-24",children:(0,a.jsx)(l.default,{src:c[e.id]?e.icon2:e.icon1,alt:e.id,fill:!0,className:"object-contain"})}),(0,a.jsx)(n.N,{children:h.map(t=>t.id.startsWith(e.id)&&(0,a.jsx)(r.P.span,{className:"absolute bg-blue-400/30",style:{width:10,height:10,borderRadius:"50%",left:t.x-5,top:t.y-5},initial:{scale:0,opacity:.8},animate:{scale:15,opacity:0},transition:{duration:.6,ease:"easeOut"},onAnimationComplete:()=>w(t.id)},t.id))})]}),(0,a.jsx)(n.N,{children:t===e.id&&(0,a.jsx)(r.P.div,{className:"absolute inset-0 bg-white rounded-full",initial:{opacity:0},animate:{opacity:[0,.5,0]},exit:{opacity:0},transition:{duration:.3}})}),!x&&(0,a.jsx)(r.P.div,{className:"absolute right-full mr-2 bg-gray-800 text-white px-2 py-1 rounded    text-sm whitespace-nowrap opacity-0 pointer-events-none",initial:{opacity:0,x:-10},animate:{opacity:t===e.id?1:0,x:t===e.id?0:-10},transition:{duration:.2},children:e.id.charAt(0).toUpperCase()+e.id.slice(1)}),x&&(0,a.jsx)(r.P.div,{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 text-[10px] text-gray-600",animate:{opacity:t===e.id?1:.7},children:e.id})]},e.id))})}},6295:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>S});var a=i(2725),s=i(1616),r=i(207),n=i(1431),o=i(3125);let l=(e,t,i,a)=>{let s=360/i*(e-t)%360*Math.PI/180,r=a.spacing||1,n=.357*a.width*r,o=.444*a.height*r,l=Math.sin(s)*n,d=Math.cos(s)*o,c=.4;return a.iconSize<70&&(c=.3),{x:l,y:d/2,scale:.6+Math.cos(s)*c,zIndex:Math.round((Math.cos(s)+1)*500),opacity:.8+Math.cos(s)*(a.iconSize<70?.4:.5)}},d=async e=>{try{e&&(e.currentTime=0,await e.play())}catch(e){console.error("Error playing sound:",e)}},c=()=>[{id:1,label:"Actividad 1",url:"/actividad-1",svgPath:"/svg/menu/orbital/activity1-descubriendo-mi-cuerpo.svg",isUnlocked:!0},{id:2,label:"Actividad 2",url:"/actividad-2",svgPath:"/svg/menu/orbital/activity2-intimidad.svg",isUnlocked:!1},{id:3,label:"Actividad 3",url:"/actividad-3",svgPath:"/svg/menu/orbital/activity3-placer-sexual.svg",isUnlocked:!1},{id:4,label:"Actividad 4",url:"/actividad-4",svgPath:"/svg/menu/orbital/activity4cuido-mi-sexualidad.svg",isUnlocked:!1},{id:5,label:"Actividad 5",url:"/actividad-5",svgPath:"/svg/menu/orbital/activity5-entender-respectar.svg",isUnlocked:!1},{id:6,label:"Actividad 6",url:"/actividad-6",svgPath:"/svg/menu/orbital/activity6.svg",isUnlocked:!1}];var u=i(4621),h=i(4088);let m=({item:e,index:t,activeIndex:i,position:s,containerSize:r,handleCircleClick:n,handleLabelClick:o})=>{let{x:l,y:d,scale:c,zIndex:m,opacity:p}=s,v=`${r.iconSize}px`;return(0,a.jsx)(u.P.div,{className:"absolute top-1/2 left-1/2",animate:{x:l,y:d,scale:c,zIndex:m,opacity:p},transition:{duration:.8,ease:"easeInOut"},style:{transform:"translate(-50%, -50%)"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(u.P.div,{className:`
            rounded-full border-2 
            flex items-center justify-center
            bg-gradient-to-br 
            transition-all duration-300
            ${e.isUnlocked?"border-blue-400/80 from-white to-blue-50 cursor-pointer hover:shadow-[0_0_15px_rgba(59,130,246,0.4)]":"border-gray-300 from-gray-100 to-gray-200 cursor-not-allowed opacity-70"}
            ${t===i&&e.isUnlocked?"shadow-lg shadow-blue-200/50":""}
          `,style:{width:v,height:v},onClick:()=>n(t,e.isUnlocked),whileHover:e.isUnlocked?{scale:1.1}:{},children:(0,a.jsxs)("div",{style:{width:v,height:v,position:"relative"},children:[(0,a.jsx)(h.default,{src:e.svgPath,alt:e.label,fill:!0,style:{objectFit:"contain"}}),!e.isUnlocked&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-500/30 rounded-full",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})}),(0,a.jsx)(u.P.span,{className:`
            px-3 py-1.5 rounded-full mt-2
            backdrop-blur-md shadow-[0_2px_8px_rgba(0,0,0,0.05)]
            text-xs font-medium text-center
            transition-all duration-300
            sm:text-sm sm:px-4 sm:py-2
            md:text-base
            ${e.isUnlocked?`cursor-pointer ${t===i?"text-blue-600 bg-blue-50/90":"text-gray-700 bg-white/80"}`:"text-gray-500 bg-gray-100/80 cursor-not-allowed"}
          `,onClick:()=>o(e.url,e.isUnlocked),whileHover:e.isUnlocked?{scale:1.1}:{},children:e.label})]})},e.id)},p=({onSelectActivity:e})=>{let t=(0,r.useRouter)(),[i,n]=(0,s.useState)(0),[u,h]=(0,s.useState)(null),[p,v]=(0,s.useState)(null),[x,g]=(0,s.useState)({width:600,height:200,iconSize:100,yOffset:0,spacing:1}),f=c();(0,s.useEffect)(()=>{let e=()=>{let e=window.innerWidth,t=e>window.innerHeight;e<640?g({width:t?400:300,height:t?140:120,iconSize:t?60:50,yOffset:t?0:-50,spacing:t?.9:.7}):e<768?g({width:420,height:160,iconSize:70,yOffset:t?0:-40,spacing:t?.95:.8}):e<1024?g({width:500,height:180,iconSize:85,yOffset:0,spacing:.9}):g({width:600,height:200,iconSize:100,yOffset:0,spacing:1})};e(),window.addEventListener("resize",e);let t=()=>{let e=window.innerHeight>window.innerWidth;document.body.classList.toggle("is-portrait",e)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("resize",t)}},[]),(0,s.useEffect)(()=>{},[]);let b=async(e,t)=>{t&&(e!==i&&(await d(p),await d(u)),n(e))},w=async(i,a)=>{a&&(await d(p),e?(e(i),console.log("Activity selected, triggering animation:",i)):(console.log("No animation callback provided, navigating directly"),t.push(i)))},y=e=>l(e,i,f.length,x);return(0,a.jsx)("div",{className:"fixed left-1/2 -translate-x-1/2 w-full max-w-screen-lg",children:(0,a.jsx)("div",{className:"relative z-10 px-4 py-4 sm:py-0 md:py-0",style:{transform:`translateY(${x.yOffset}px)`},children:(0,a.jsxs)("div",{className:"relative mx-auto overflow-hidden",style:{width:x.width,height:x.height},children:[(0,a.jsx)("div",{className:"absolute inset-0"}),(0,a.jsx)("div",{className:"absolute top-[40%] left-1/2 w-full h-full",style:{transform:"translate(-64.6667%, -87%)",scale:x.spacing},children:(0,a.jsx)(o.N,{children:f.map((e,t)=>{let s=y(t);return(0,a.jsx)(m,{item:e,index:t,activeIndex:i,position:s,containerSize:x,handleCircleClick:b,handleLabelClick:w},e.id)})})})]})})})};var v=i(3858);let x=({flip:e=!1})=>{let[t,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setInterval(()=>{i(e=>!e)},200);return()=>clearInterval(e)},[]),(0,a.jsx)(u.P.div,{className:"absolute z-30",variants:{animate:{x:e?["-10%","110%"]:["110%","-10%"],y:["30%","31%","32%","31%","30%"],rotate:e?[0,-1,-2,-1,0]:[0,1,2,1,0]}},animate:"animate",transition:{x:{duration:10,repeat:1/0,ease:"linear",repeatType:"reverse"},y:{duration:2,repeat:1/0,ease:"easeInOut",times:[0,.25,.5,.75,1]},rotate:{duration:2,repeat:1/0,ease:"easeInOut",times:[0,.25,.5,.75,1]}},children:(0,a.jsx)("img",{src:t?e?"/svg/birds/bird-1-reversed.svg":"/svg/birds/bird-1.svg":e?"/svg/birds/bird-2-reversed.svg":"/svg/birds/bird-2.svg",alt:"Flying Bird",className:"w-16 h-auto"})})},g=({count:e=3})=>{let[t,i]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),o=(0,s.useRef)(null),l=(0,s.useRef)(null);return(0,s.useEffect)(()=>(i(Array.from({length:e}).map(()=>{let e=Math.random()>.5,t=20+60*Math.random(),i=20*Math.random()-10;return{fromLeft:e,startX:e?"-30%":"120%",endX:e?"120%":"-20%",startY:`${t}%`,endY:`${t+i}%`}})),l.current=new IntersectionObserver(e=>{e.forEach(e=>{n(e.isIntersecting)})},{threshold:.1}),o.current&&l.current.observe(o.current),()=>{l.current&&l.current.disconnect()}),[e]),(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("div",{className:"absolute inset-0 overflow-hidden",style:{clipPath:"polygon(5% 17%, 88% 0%, 87% 94%, 8% 81%)"},children:(0,a.jsx)("div",{ref:o,className:"absolute inset-0 w-full h-full",style:{backgroundImage:"url(/svg/clouds.svg), linear-gradient(#00b3f0 0%, rgb(193, 227, 228) 100%)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:t.map((e,t)=>(0,a.jsx)(u.P.div,{className:"absolute w-full h-full pointer-events-none",initial:{x:e.startX,y:e.startY},animate:r?{x:e.endX,y:e.endY,rotate:e.fromLeft?-5:5}:{x:e.startX,y:e.startY},transition:{duration:4*Math.random()+3,repeat:1/0,ease:"linear",delay:2*Math.random()},children:(0,a.jsx)("div",{className:"scale-[0.50]",children:(0,a.jsx)(x,{flip:!e.fromLeft})})},t))})}),(0,a.jsx)("div",{className:"absolute inset-0 w-full h-full z-10 pointer-events-none",children:(0,a.jsx)("img",{src:"/svg/window.svg",alt:"Window frame",className:"w-full h-full object-fill"})})]})},f=({scale:e=1,left:t,right:i,top:s,bottom:r,width:n="25%",height:o="20%",zIndex:l=0,imagePath:d="/svg/table.svg"})=>{let c=n.includes("%")?`${parseFloat(n)*e}%`:n,u=o.includes("%")?`${parseFloat(o)*e}%`:o;return(0,a.jsx)("div",{className:"absolute pointer-events-none",style:{width:c,height:u,left:t,right:i,top:s,bottom:r,zIndex:l},children:(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(h.default,{src:d,alt:"Table",fill:!0,priority:!0,className:"object-contain"})})})},b=({scale:e=1})=>(0,a.jsx)("div",{className:"absolute pointer-events-none",style:{width:`${20*e}%`,height:`${14*e}%`},children:(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(h.default,{src:"/svg/mochila.svg",alt:"Backpack",fill:!0,priority:!0,className:"object-contain"})})}),w=({videoPath:e,backgroundImagePath:t="/svg/HOME.svg",isExiting:i=!1,onExitComplete:r,debug:n=!1})=>{let o=(0,s.useRef)(null),[l,d]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[v,x]=(0,s.useState)(null),[w,y]=(0,s.useState)({width:0,height:0}),[j,k]=(0,s.useState)({width:0,height:0}),N=16/9,P={door:{left:30.1,top:43,width:7.5,height:25},window:{left:69,top:36,width:10,height:27},table:{left:5,bottom:15,width:20,height:15},backpack:{right:20,left:-10,bottom:22,width:10,height:20}},A={visible:{opacity:1,scale:1},exit:{opacity:0,scale:.8,transition:{duration:.5}}};(0,s.useEffect)(()=>{let e=o.current;if(!e)return;let t=()=>d(!0),i=()=>h(!0),a=()=>h(!1),s=()=>{h(!1),p(!0)},r=()=>{x(e.error?e.error.message:"Unknown video error")};return e.addEventListener("loadeddata",t),e.addEventListener("play",i),e.addEventListener("pause",a),e.addEventListener("ended",s),e.addEventListener("error",r),e.load(),()=>{e.removeEventListener("loadeddata",t),e.removeEventListener("play",i),e.removeEventListener("pause",a),e.removeEventListener("ended",s),e.removeEventListener("error",r)}},[e]),(0,s.useEffect)(()=>{let e=()=>{let e=window.innerWidth,t=window.innerHeight;k({width:e,height:t});let i=e,a=i/N;a<t&&(i=(a=t)*N),y({width:i,height:a})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{if(i&&r){let e=setTimeout(()=>r(),1200);return()=>clearTimeout(e)}},[i,r]);let E={width:`${w.width}px`,height:`${w.height}px`,left:`${(j.width-w.width)/2}px`,top:`${(j.height-w.height)/2}px`},$={visible:{y:0,opacity:1},exit:{y:"-110%",opacity:0,transition:{duration:1.2,ease:"easeInOut"}}},z={position:"absolute",left:`${P.door.left+2}%`,top:`${(P.door.top??0)-5}%`,width:"150px",transform:"translateX(-25%)",zIndex:25};return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-300 to-blue-100"}),(0,a.jsx)(u.P.div,{className:"absolute inset-0",initial:"visible",animate:i?"exit":"visible",variants:$,style:{background:"linear-gradient(to bottom, #f5e6d3 0%, #e6d5b8 30%, #d4c4a7 100%)"}}),(0,a.jsx)(u.P.div,{className:"absolute",style:E,initial:"visible",animate:i?"exit":"visible",variants:$,children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[!c&&(0,a.jsx)("div",{className:"absolute inset-0 z-10 bg-cover bg-center bg-no-repeat ARROW",style:{backgroundImage:`url(${t})`},children:!m&&(0,a.jsx)("div",{style:z,className:" text-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("svg",{onClick:()=>console.log("Arrow clicked!"),className:"cursor-pointer  text-orange-500 hover:brightness-125 active:animate-ping transition duration-200 animate-bounce drop-shadow-md",width:"36",height:"36",viewBox:"0 0 64 64",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M32 4 C30 4 28 6 28 8 L28 40 L16 28 C14 26 10 26 8 28 C6 30 6 34 8 36 L30 58 C31 59 33 59 34 58 L56 36 C58 34 58 30 56 28 C54 26 50 26 48 28 L36 40 L36 8 C36 6 34 4 32 4 Z"})})})})}),(0,a.jsxs)("video",{ref:o,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 z-10 ${c?"opacity-100":"opacity-0"}`,playsInline:!0,preload:"auto",children:[(0,a.jsx)("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]}),!c&&(0,a.jsx)("div",{className:"absolute z-30 cursor-pointer overflow-hidden",style:{left:`${P.window.left}%`,top:`${P.window.top}%`,width:`${P.window.width}%`,height:`${P.window.height}%`},children:(0,a.jsx)(g,{})}),!c&&(0,a.jsx)("div",{className:"absolute z-30",style:{right:`${P.backpack.right}%`,bottom:`${P.backpack.bottom}%`,width:`${P.backpack.width}%`,height:`${P.backpack.height}%`},children:(0,a.jsx)(u.P.div,{initial:"visible",animate:i?"exit":"visible",variants:A,className:"w-full h-full",children:(0,a.jsx)(b,{scale:15})})}),!c&&(0,a.jsx)("div",{className:"absolute z-30",style:{left:`${P.table.left}%`,bottom:`${P.table.bottom}%`,width:`${P.table.width}%`,height:`${P.table.height}%`},children:(0,a.jsx)(u.P.div,{initial:"visible",animate:i?"exit":"visible",variants:A,className:"w-full h-full",children:(0,a.jsx)(f,{left:"0%",bottom:"0%",width:"100%",height:"100%",scale:1,imagePath:"/svg/table.svg"})})}),!i&&(0,a.jsx)("div",{className:`absolute ${n?"border-2 border-dashed":""} cursor-pointer z-40`,style:{left:`${P.door.left}%`,top:P.door.top?`${P.door.top}%`:void 0,bottom:P.door.bottom?`${P.door.bottom}%`:void 0,width:`${P.door.width}%`,height:`${P.door.height}%`,borderColor:"rgba(255, 0, 0, 0.5)"},onClick:()=>{!o.current||c||m||o.current.play().catch(()=>{x("Browser prevented video playback. Please check your browser settings.")})},children:n&&(0,a.jsx)("div",{className:"absolute -top-5 left-0 text-xs bg-black/50 text-white px-1 rounded",children:"door"})},"door"),v&&(0,a.jsx)("div",{className:"absolute inset-0 z-100 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg max-w-md",children:[(0,a.jsxs)("p",{className:"text-red-500 mb-2",children:["Error loading video: ",v]}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Reload Page"})]})})]})})]})},y=null,j=!1,k={},N=null,P=async()=>{if(j)return!0;try{let e=window.AudioContext||window.webkitAudioContext;if(e){let t=(y=new e).createBuffer(1,1,22050),i=y.createBufferSource();return i.buffer=t,i.connect(y.destination),i.start(0),j=!0,console.log("Audio system initialized successfully"),setTimeout(()=>{try{(N=new Audio).autoplay=!1,N.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",N.play().then(()=>{N?.pause()})}catch(e){console.warn("Global audio element init failed (ignored):",e)}},0),!0}}catch(e){console.warn("Failed to initialize audio system:",e)}return!1},A=async e=>{try{if(y){if(k[e])return!0;let t=await fetch(e),i=await t.arrayBuffer(),a=await y.decodeAudioData(i);return k[e]=a,!0}return new Promise(t=>{let i=new Audio;i.preload="auto";let a=()=>{i.removeEventListener("canplaythrough",a),t(!0)},s=()=>{i.removeEventListener("error",s),console.warn(`Failed to preload: ${e}`),t(!1)};i.addEventListener("canplaythrough",a),i.addEventListener("error",s),i.src=e})}catch(t){return console.warn(`Failed to preload audio: ${e}`,t),!1}},E=async(e,t)=>{if(!j)try{await P()}catch(e){console.warn("Audio initialization failed during preload:",e)}let i=0,a=e.length;for(let s of e)await A(s).catch(()=>!1),t(Math.round(++i/a*100));console.log(`Preloaded ${i}/${a} audio files`)},$=["/audio/alex/intro/1-alex.mp3","/audio/alex/intro/2-alex.mp3","/audio/alex/intro/3-alex.mp3","/audio/alex/intro/4-alex.mp3","/audio/alex/intro/5-alex.mp3","/audio/alex/intro/6-alex.mp3","/audio/alex/intro/7-alex.mp3","/audio/alex/intro/8-alex.mp3","/audio/alex/intro/9-alex.mp3","/audio/alex/intro/10-alex.mp3","/audio/alex/intro/11-alex.mp3","/audio/cris/intro/1-cris.mp3","/audio/cris/intro/2-cris.mp3","/audio/cris/intro/3-cris.mp3","/audio/dani/hola.mp3","/audio/dani/dani-2.mp3","/audio/dani/dani-3.mp3","/audio/noa/hola.mp3","/audio/noa/noa-2.mp3","/audio/noa/noa-3.mp3","/ui-sound/cabinet-door-open.mp3","/ui-sound/whoosh.mp3"],z=({isInitialized:e,onProgress:t})=>((0,s.useEffect)(()=>{e&&E($,t||(()=>{}))},[e,t]),null),S=()=>{let e=(0,r.useRouter)(),[t,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[d,c]=(0,s.useState)([]),[u,h]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[g,f]=(0,s.useState)(0),[b,y]=(0,s.useState)(!1),j=e=>{c(t=>[...t,`${new Date().toISOString().split("T")[1].split(".")[0]}: ${e}`]),console.log(e)},k=async()=>{j("Start button clicked, initializing audio");try{let e=await P();x(e),j(`Audio initialized: ${e}`)}catch(e){j(`Audio initialization error: ${e instanceof Error?e.message:"Unknown error"}`)}};return(0,s.useEffect)(()=>{100===g&&(j("Audio preloading complete, hiding welcome screen"),h(!1))},[g]),(0,s.useEffect)(()=>{},[b]),(0,a.jsxs)(a.Fragment,{children:[u?(0,a.jsx)("div",{className:"fixed inset-0 z-[1000] flex flex-col items-center justify-center bg-blue-500 text-white",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-lg mb-4",children:"Loading audio files..."}),(0,a.jsx)("div",{className:"w-64 h-4 bg-white/30 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${g}%`}})})]}):(0,a.jsx)("button",{onClick:k,className:"bg-white text-blue-500 font-bold py-4 px-8 rounded-full text-lg",children:"Start"})}):(0,a.jsxs)("div",{className:"relative min-h-screen",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-10",children:(0,a.jsx)(w,{videoPath:"/video/HOME.mp4",backgroundImagePath:"/svg/HOME_1.svg",isExiting:t,onExitComplete:()=>{j("Exit animation completed"),o&&(j(`Navigating to: ${o}`),e.push(o))},debug:b})}),t&&(0,a.jsx)("div",{className:"absolute inset-0 z-5 bg-gradient-to-b from-blue-300 to-blue-100",children:(0,a.jsx)(n.default,{})}),(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 z-50 flex justify-center",children:(0,a.jsx)(p,{onSelectActivity:e=>{j(`Activity selected: ${e}`),i(!0),j("Exit animation triggered"),l(e)}})}),(0,a.jsx)("div",{className:"absolute top-0 right-0 z-50 flex",children:(0,a.jsx)(v.A,{})}),b&&(0,a.jsxs)("div",{className:"fixed bottom-0 left-0 bg-black/70 text-white p-2 max-w-xs max-h-40 overflow-auto text-xs z-[1000]",children:[(0,a.jsxs)("div",{children:["isExiting: ",t?"true":"false"]}),(0,a.jsxs)("div",{children:["pendingNav: ",o||"none"]}),(0,a.jsxs)("div",{children:["audioInit: ",m?"true":"false"]}),(0,a.jsxs)("div",{children:["audioProgress: ",g,"%"]}),d.map((e,t)=>(0,a.jsx)("div",{children:e},t))]})]}),(0,a.jsx)(z,{isInitialized:m,onProgress:f})]})}},8417:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});let a=(0,i(2771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/LandscapeLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/LandscapeLayout.tsx","default")},9017:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let a=(0,i(2771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/home/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/mnt/c/Users/ian.gilmore/Documents/repo/edu-div-sex/apps/web/src/app/home/page.tsx","default")},1052:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var a=i(1069),s=i(2282),r=i.n(s);i(4276);var n=i(8417);function o({children:e}){return(0,a.jsxs)("html",{lang:"en","data-theme":"light",children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),(0,a.jsx)("meta",{name:"screen-orientation",content:"landscape"}),(0,a.jsx)("meta",{name:"x5-orientation",content:"landscape"}),(0,a.jsx)("meta",{name:"msapplication-orientation",content:"landscape"})]}),(0,a.jsx)("body",{className:`${r().className} antialiased`,children:(0,a.jsx)(n.default,{children:e})})]})}},9699:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var a=i(4178);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},4276:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),a=t.X(0,[207,619,178,40,165],()=>i(4747));module.exports=a})();